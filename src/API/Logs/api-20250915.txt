2025-09-15T19:33:57.5286470+02:00  [INF] User profile is available. Using '"C:\Users\David\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-09-15T19:34:16.0813031+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-09-15T19:34:16.4837187+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-09-15T19:34:16.4865055+02:00  [INF] Content root path: "C:\Users\David\Desktop\API" (cc26f24e)
2025-09-15T19:34:17.2076127+02:00 80000002-0000-fe00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - null null (d509f86a)
2025-09-15T19:34:30.2120103+02:00 80000002-0000-fe00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 13277.5893ms (74253ad3)
2025-09-15T19:34:31.0904704+02:00 80000002-0005-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-09-15T19:34:32.3987635+02:00 80000002-0005-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - 200 13742 "application/javascript; charset=utf-8" 4.7239ms (74253ad3)
2025-09-15T19:34:40.8853663+02:00 80000002-0007-ff00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-09-15T19:34:41.4516308+02:00 80000002-0007-ff00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 566.1992ms (74253ad3)
2025-09-15T19:39:45.3134303+02:00 80000008-0006-fd00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - "application/json" 56 (d509f86a)
2025-09-15T19:39:45.3843766+02:00 80000008-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2025-09-15T19:39:45.8887954+02:00 80000008-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.AuthController.Login (API)"' (500cc934)
2025-09-15T19:39:46.9698297+02:00 80000008-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login(Domain.Entities.LoginDto)" on controller "API.Controllers.AuthController" ("API"). (122b2fdf)
2025-09-15T19:40:35.3910678+02:00 80000008-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("407"ms) [Parameters=["@__ToLower_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
FROM \"Usuarios\" AS u
WHERE lower(btrim(u.nombre, E' \t\n\r')) = @__ToLower_0
LIMIT 2" (0723d8ff)
2025-09-15T19:41:24.3569412+02:00 80000008-0006-fd00-b63f-84710c7967bb [INF] Executed action "API.Controllers.AuthController.Login (API)" in 97340.082ms (afa2e885)
2025-09-15T19:41:24.3817078+02:00 80000008-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.AuthController.Login (API)"' (99874f2b)
2025-09-15T19:41:25.8379947+02:00 80000008-0006-fd00-b63f-84710c7967bb [ERR] Ocurrió un error en la petición "/auth/login" (564da9e9)
System.AggregateException: One or more errors occurred. (Object reference not set to an instance of an object.)
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at Application.Services.AuthService.Login(String userName, String password) in C:\Users\David\Desktop\Application\Services\AuthService.cs:line 28
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at API.Controllers.AuthController.Login(LoginDto dto) in C:\Users\David\Desktop\API\Controllers\AuthController.cs:line 35
   at lambda_method3(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\David\Desktop\API\Middlewares\ExceptionMiddleware.cs:line 21
2025-09-15T19:41:25.9967413+02:00 80000008-0006-fd00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - 500 null "application/json" 100684.4564ms (74253ad3)
2025-09-15T19:41:33.6117188+02:00 80000002-0002-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - "application/json" 57 (d509f86a)
2025-09-15T19:41:33.6132111+02:00 80000002-0002-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2025-09-15T19:41:33.6135927+02:00 80000002-0002-fc00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.AuthController.Login (API)"' (500cc934)
2025-09-15T19:41:33.6360680+02:00 80000002-0002-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login(Domain.Entities.LoginDto)" on controller "API.Controllers.AuthController" ("API"). (122b2fdf)
2025-09-15T19:41:33.8810553+02:00 80000002-0002-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("177"ms) [Parameters=["@__ToLower_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
FROM \"Usuarios\" AS u
WHERE lower(btrim(u.nombre, E' \t\n\r')) = @__ToLower_0
LIMIT 2" (0723d8ff)
2025-09-15T19:41:37.9958320+02:00 80000002-0002-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("2,875"ms) [Parameters=["@__idUsuario_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.activo, t.apellidos, t.contraseña, t.correo, t.\"expiracionToken\", t.\"fechaCreación\", t.\"fechaNacimiento\", t.nombre, t.puntos, t.suscrito, t.token, t.\"ultimaConexion\", t0.idrol, t0.idusuario, t0.identidad, t0.id, t0.descripcion, t0.level, t0.nombre, t0.id0, t0.activo, t0.descripcion0, t0.\"fechaAlta\", t0.\"idTipoEntidad\", t0.imagen, t0.nombre0, t0.popularidad, t0.ubicacion
FROM (
    SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
    FROM \"Usuarios\" AS u
    WHERE u.id = @__idUsuario_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT u0.idrol, u0.idusuario, u0.identidad, r.id, r.descripcion, r.level, r.nombre, e.id AS id0, e.activo, e.descripcion AS descripcion0, e.\"fechaAlta\", e.\"idTipoEntidad\", e.imagen, e.nombre AS nombre0, e.popularidad, e.ubicacion
    FROM \"UsuarioRoles\" AS u0
    INNER JOIN \"Roles\" AS r ON u0.idrol = r.id
    INNER JOIN \"Entidades\" AS e ON u0.identidad = e.id
) AS t0 ON t.id = t0.idusuario
ORDER BY t.id, t0.idrol, t0.idusuario, t0.identidad, t0.id" (0723d8ff)
2025-09-15T19:41:39.5570624+02:00 80000002-0002-fc00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-09-15T19:41:39.7384789+02:00 80000002-0002-fc00-b63f-84710c7967bb [INF] Executed action "API.Controllers.AuthController.Login (API)" in 6102.1335ms (afa2e885)
2025-09-15T19:41:39.7386363+02:00 80000002-0002-fc00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.AuthController.Login (API)"' (99874f2b)
2025-09-15T19:41:40.4510925+02:00 80000002-0002-fc00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("956"ms) [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Usuarios\" SET \"expiracionToken\" = @p0, token = @p1
WHERE id = @p2;" (627a98df)
2025-09-15T19:41:41.7967408+02:00 80000012-0004-fd00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - "application/json" 57 (d509f86a)
2025-09-15T19:41:41.7969985+02:00 80000012-0004-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2025-09-15T19:41:41.7972196+02:00 80000012-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.AuthController.Login (API)"' (500cc934)
2025-09-15T19:41:41.7973873+02:00 80000012-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login(Domain.Entities.LoginDto)" on controller "API.Controllers.AuthController" ("API"). (122b2fdf)
2025-09-15T19:41:41.9934614+02:00 80000012-0004-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__ToLower_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
FROM \"Usuarios\" AS u
WHERE lower(btrim(u.nombre, E' \t\n\r')) = @__ToLower_0
LIMIT 2" (0723d8ff)
2025-09-15T19:41:42.1272973+02:00 80000012-0004-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("26"ms) [Parameters=["@__idUsuario_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.activo, t.apellidos, t.contraseña, t.correo, t.\"expiracionToken\", t.\"fechaCreación\", t.\"fechaNacimiento\", t.nombre, t.puntos, t.suscrito, t.token, t.\"ultimaConexion\", t0.idrol, t0.idusuario, t0.identidad, t0.id, t0.descripcion, t0.level, t0.nombre, t0.id0, t0.activo, t0.descripcion0, t0.\"fechaAlta\", t0.\"idTipoEntidad\", t0.imagen, t0.nombre0, t0.popularidad, t0.ubicacion
FROM (
    SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
    FROM \"Usuarios\" AS u
    WHERE u.id = @__idUsuario_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT u0.idrol, u0.idusuario, u0.identidad, r.id, r.descripcion, r.level, r.nombre, e.id AS id0, e.activo, e.descripcion AS descripcion0, e.\"fechaAlta\", e.\"idTipoEntidad\", e.imagen, e.nombre AS nombre0, e.popularidad, e.ubicacion
    FROM \"UsuarioRoles\" AS u0
    INNER JOIN \"Roles\" AS r ON u0.idrol = r.id
    INNER JOIN \"Entidades\" AS e ON u0.identidad = e.id
) AS t0 ON t.id = t0.idusuario
ORDER BY t.id, t0.idrol, t0.idusuario, t0.identidad, t0.id" (0723d8ff)
2025-09-15T19:41:42.1332665+02:00 80000012-0004-fd00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-09-15T19:41:42.1362844+02:00 80000012-0004-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Usuarios\" SET \"expiracionToken\" = @p0, token = @p1
WHERE id = @p2;" (0723d8ff)
2025-09-15T19:41:42.1367047+02:00 80000012-0004-fd00-b63f-84710c7967bb [INF] Executed action "API.Controllers.AuthController.Login (API)" in 339.1217ms (afa2e885)
2025-09-15T19:41:42.1367919+02:00 80000012-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.AuthController.Login (API)"' (99874f2b)
2025-09-15T19:41:42.1374418+02:00 80000012-0004-fd00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - 200 null "application/json; charset=utf-8" 340.7593ms (74253ad3)
2025-09-15T19:41:50.6502797+02:00 80000014-0004-fd00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - "application/json" 57 (d509f86a)
2025-09-15T19:41:50.6505842+02:00 80000014-0004-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2025-09-15T19:41:50.6508571+02:00 80000014-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.AuthController.Login (API)"' (500cc934)
2025-09-15T19:41:50.6510357+02:00 80000014-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login(Domain.Entities.LoginDto)" on controller "API.Controllers.AuthController" ("API"). (122b2fdf)
2025-09-15T19:41:50.6554863+02:00 80000014-0004-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
FROM \"Usuarios\" AS u
WHERE lower(btrim(u.nombre, E' \t\n\r')) = @__ToLower_0
LIMIT 2" (0723d8ff)
2025-09-15T19:41:50.7930447+02:00 80000014-0004-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__idUsuario_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.activo, t.apellidos, t.contraseña, t.correo, t.\"expiracionToken\", t.\"fechaCreación\", t.\"fechaNacimiento\", t.nombre, t.puntos, t.suscrito, t.token, t.\"ultimaConexion\", t0.idrol, t0.idusuario, t0.identidad, t0.id, t0.descripcion, t0.level, t0.nombre, t0.id0, t0.activo, t0.descripcion0, t0.\"fechaAlta\", t0.\"idTipoEntidad\", t0.imagen, t0.nombre0, t0.popularidad, t0.ubicacion
FROM (
    SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
    FROM \"Usuarios\" AS u
    WHERE u.id = @__idUsuario_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT u0.idrol, u0.idusuario, u0.identidad, r.id, r.descripcion, r.level, r.nombre, e.id AS id0, e.activo, e.descripcion AS descripcion0, e.\"fechaAlta\", e.\"idTipoEntidad\", e.imagen, e.nombre AS nombre0, e.popularidad, e.ubicacion
    FROM \"UsuarioRoles\" AS u0
    INNER JOIN \"Roles\" AS r ON u0.idrol = r.id
    INNER JOIN \"Entidades\" AS e ON u0.identidad = e.id
) AS t0 ON t.id = t0.idusuario
ORDER BY t.id, t0.idrol, t0.idusuario, t0.identidad, t0.id" (0723d8ff)
2025-09-15T19:41:50.7980655+02:00 80000014-0004-fd00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-09-15T19:41:50.7992118+02:00 80000014-0004-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Usuarios\" SET \"expiracionToken\" = @p0, token = @p1
WHERE id = @p2;" (0723d8ff)
2025-09-15T19:41:50.7993776+02:00 80000014-0004-fd00-b63f-84710c7967bb [INF] Executed action "API.Controllers.AuthController.Login (API)" in 148.2551ms (afa2e885)
2025-09-15T19:41:50.7994674+02:00 80000014-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.AuthController.Login (API)"' (99874f2b)
2025-09-15T19:41:50.7998490+02:00 80000014-0004-fd00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - 200 null "application/json; charset=utf-8" 149.7248ms (74253ad3)
2025-09-15T19:42:34.4766986+02:00 80000002-0001-ff00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/EmailTokens/ObtenerEmailTokens""" - null null (d509f86a)
2025-09-15T19:42:35.5824149+02:00 80000002-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.EmailTokensController.GetAllAsync (API)"' (500cc934)
2025-09-15T19:42:35.5885057+02:00 80000002-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAll\", controller = \"EmailTokens\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync()" on controller "API.Controllers.EmailTokensController" ("API"). (122b2fdf)
2025-09-15T19:42:35.7317640+02:00 80000002-0001-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("67"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT e.id, e.consumido, e.\"emailAction\", e.\"fechaConsumido\", e.\"fechaCreacion\", e.\"fechaExpiracion\", e.ip, e.token, e.\"userAgent\", e.\"userId\"
FROM \"EmailTokens\" AS e" (0723d8ff)
2025-09-15T19:42:35.7541028+02:00 80000002-0001-ff00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Domain.Entities.EmailToken, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-15T19:42:35.8008789+02:00 80000002-0001-ff00-b63f-84710c7967bb [INF] Executed action "API.Controllers.EmailTokensController.GetAllAsync (API)" in 212.2333ms (afa2e885)
2025-09-15T19:42:35.8017338+02:00 80000002-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.EmailTokensController.GetAllAsync (API)"' (99874f2b)
2025-09-15T19:42:35.8067266+02:00 80000002-0001-ff00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/EmailTokens/ObtenerEmailTokens""" - 200 null "application/json; charset=utf-8" 1330.0692ms (74253ad3)
2025-09-15T19:43:06.2239043+02:00 80000004-0000-fe00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "DELETE" "https"://"localhost:44311""""/EmailTokens/Eliminar/d18ca085-5e38-45f1-9e35-8b621f74bd9c""" - null null (d509f86a)
2025-09-15T19:43:06.2264712+02:00 80000004-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2025-09-15T19:43:06.2286289+02:00 80000004-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.EmailTokensController.Remove (API)"' (500cc934)
2025-09-15T19:43:06.2856980+02:00 80000004-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Remove\", controller = \"EmailTokens\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Remove(System.Guid)" on controller "API.Controllers.EmailTokensController" ("API"). (122b2fdf)
2025-09-15T19:43:06.3211642+02:00 80000004-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT e.id, e.consumido, e.\"emailAction\", e.\"fechaConsumido\", e.\"fechaCreacion\", e.\"fechaExpiracion\", e.ip, e.token, e.\"userAgent\", e.\"userId\"
FROM \"EmailTokens\" AS e
WHERE e.id = @__get_Item_0
LIMIT 1" (0723d8ff)
2025-09-15T19:43:06.3778647+02:00 80000004-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM \"EmailTokens\"
WHERE id = @p0;" (0723d8ff)
2025-09-15T19:43:06.4276615+02:00 80000004-0000-fe00-b63f-84710c7967bb [INF] Mensaje no definido. (e2ae16ec)
2025-09-15T19:43:06.4279505+02:00 80000004-0000-fe00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Boolean"'. (605b4265)
2025-09-15T19:43:06.4315542+02:00 80000004-0000-fe00-b63f-84710c7967bb [INF] Executed action "API.Controllers.EmailTokensController.Remove (API)" in 145.6669ms (afa2e885)
2025-09-15T19:43:06.4316340+02:00 80000004-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.EmailTokensController.Remove (API)"' (99874f2b)
2025-09-15T19:43:06.4319951+02:00 80000004-0000-fe00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "DELETE" "https"://"localhost:44311""""/EmailTokens/Eliminar/d18ca085-5e38-45f1-9e35-8b621f74bd9c""" - 200 null "application/json; charset=utf-8" 208.33ms (74253ad3)

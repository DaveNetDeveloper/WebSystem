2025-09-03T13:05:15.6989776+02:00  [INF] User profile is available. Using '"C:\Users\David\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-09-03T13:05:26.1344494+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-09-03T13:05:26.2074271+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-09-03T13:05:26.2787411+02:00  [INF] Content root path: "C:\Users\David\Desktop\API" (cc26f24e)
2025-09-03T13:05:27.7334249+02:00 80000028-0002-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - null null (d509f86a)
2025-09-03T13:05:32.5527142+02:00 80000028-0002-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 4879.532ms (74253ad3)
2025-09-03T13:05:32.6624542+02:00 8000002a-0002-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-09-03T13:05:32.6793640+02:00 8000002a-0002-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - 200 13742 "application/javascript; charset=utf-8" 9.2092ms (74253ad3)
2025-09-03T13:05:32.7795401+02:00 8000002f-0006-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - null null (d509f86a)
2025-09-03T13:05:33.7717834+02:00 8000002f-0006-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 992.3345ms (74253ad3)
2025-09-03T13:05:34.7897811+02:00 8000002c-0002-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-09-03T13:05:34.8711391+02:00 8000002c-0002-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 81.7482ms (74253ad3)
2025-09-03T13:06:18.0365007+02:00 80000002-0002-f800-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Usuarios/GetDireccionesByUsuario/1""" - null null (d509f86a)
2025-09-03T13:06:18.2991580+02:00 80000002-0002-f800-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.UsuariosController.GetDireccionesByUsuario (API)"' (500cc934)
2025-09-03T13:06:19.4611331+02:00 80000002-0002-f800-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDireccionesByUsuario\", controller = \"Usuarios\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDireccionesByUsuario(Int32)" on controller "API.Controllers.UsuariosController" ("API"). (122b2fdf)
2025-09-03T13:08:58.1655876+02:00 80000002-0002-f800-b63f-84710c7967bb [ERR] Failed executing DbCommand ("1,737"ms) [Parameters=["@__idUsuario_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.bloque, t.ciudad, t.\"codigoPostal\", t.\"comunidadAutonoma\", t.escalera, t.\"nombreVia\", t.numero, t.pais, t.piso, t.provincia, t.puerta, t.\"tipoVia\"
FROM \"Usuarios\" AS u
INNER JOIN (
    SELECT d.id, d.bloque, d.ciudad, d.\"codigoPostal\", d.\"comunidadAutonoma\", d.escalera, d.\"nombreVia\", d.numero, d.pais, d.piso, d.provincia, d.puerta, d.\"tipoVia\", u0.idusuario
    FROM \"UsuarioDirecciones\" AS u0
    INNER JOIN \"Direccion\" AS d ON u0.iddireccion = d.id
) AS t ON u.id = t.idusuario
WHERE u.id = @__idUsuario_0" (627a98df)
2025-09-03T13:09:00.8275925+02:00 80000002-0002-f800-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"Infrastructure.Persistence.ApplicationDbContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: no existe la relación «Direccion»

POSITION: 433
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: no existe la relación «Direccion»
    Position: 433
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable" (f5c7ac34)
Npgsql.PostgresException (0x80004005): 42P01: no existe la relación «Direccion»

POSITION: 433
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: no existe la relación «Direccion»
    Position: 433
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
2025-09-03T13:09:04.6548711+02:00 80000002-0002-f800-b63f-84710c7967bb [ERR] Error obteniendo las direcciones del usuario 1. (17d30942)
Npgsql.PostgresException (0x80004005): 42P01: no existe la relación «Direccion»

POSITION: 433
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Infrastructure.Repositories.UsuarioRepository.GetDireccionesByUsuario(Int32 idUsuario) in C:\Users\David\Desktop\Infrastructure\Repositories\UsuarioRepository.cs:line 157
   at API.Controllers.UsuariosController.GetDireccionesByUsuario(Int32 idUsuario) in C:\Users\David\Desktop\API\Controllers\UsuariosController.cs:line 225
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: no existe la relación «Direccion»
    Position: 433
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
2025-09-03T13:09:04.8278434+02:00 80000002-0002-f800-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"<>f__AnonymousType5`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-09-03T13:09:05.4337161+02:00 80000002-0002-f800-b63f-84710c7967bb [INF] Executed action "API.Controllers.UsuariosController.GetDireccionesByUsuario (API)" in 165947.3951ms (afa2e885)
2025-09-03T13:09:05.4345108+02:00 80000002-0002-f800-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.UsuariosController.GetDireccionesByUsuario (API)"' (99874f2b)
2025-09-03T13:09:07.6159024+02:00 80000002-0002-f800-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Usuarios/GetDireccionesByUsuario/1""" - 500 null "application/json; charset=utf-8" 169579.4539ms (74253ad3)
2025-09-03T13:10:05.5892141+02:00 80000042-0001-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Usuarios/GetDireccionesByUsuario/1""" - null null (d509f86a)
2025-09-03T13:10:10.3988548+02:00 80000042-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.UsuariosController.GetDireccionesByUsuario (API)"' (500cc934)
2025-09-03T13:10:10.4356353+02:00 80000042-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDireccionesByUsuario\", controller = \"Usuarios\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDireccionesByUsuario(Int32)" on controller "API.Controllers.UsuariosController" ("API"). (122b2fdf)
2025-09-03T13:27:02.9935357+02:00  [INF] User profile is available. Using '"C:\Users\David\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-09-03T13:27:07.5840102+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-09-03T13:27:07.6189071+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-09-03T13:27:07.6222224+02:00  [INF] Content root path: "C:\Users\David\Desktop\API" (cc26f24e)
2025-09-03T13:27:07.8592159+02:00 80000010-0003-fd00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - null null (d509f86a)
2025-09-03T13:28:00.3540916+02:00 80000010-0003-fd00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 52558.3998ms (74253ad3)
2025-09-03T13:28:00.5429250+02:00 80000061-0004-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-09-03T13:28:00.5472041+02:00 80000061-0004-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - 200 13742 "application/javascript; charset=utf-8" 4.0909ms (74253ad3)
2025-09-03T13:28:00.6059394+02:00 8000002e-0006-f900-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - null null (d509f86a)
2025-09-03T13:28:00.7207922+02:00 8000002e-0006-f900-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 114.9584ms (74253ad3)
2025-09-03T13:28:01.5172844+02:00 8000000f-0002-f900-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-09-03T13:28:04.0861091+02:00 8000000f-0002-f900-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 2568.9808ms (74253ad3)
2025-09-03T13:29:49.8701983+02:00 80000032-0002-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Usuarios/GetDireccionesByUsuario/1""" - null null (d509f86a)
2025-09-03T13:29:52.3474022+02:00 80000032-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.UsuariosController.GetDireccionesByUsuario (API)"' (500cc934)
2025-09-03T13:29:52.8960972+02:00 80000032-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDireccionesByUsuario\", controller = \"Usuarios\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDireccionesByUsuario(Int32)" on controller "API.Controllers.UsuariosController" ("API"). (122b2fdf)
2025-09-03T13:31:23.7139467+02:00 80000032-0002-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("679"ms) [Parameters=["@__idUsuario_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.bloque, t.ciudad, t.\"codigoPostal\", t.\"comunidadAutonoma\", t.escalera, t.\"nombreVia\", t.numero, t.pais, t.piso, t.provincia, t.puerta, t.\"tipoVia\"
FROM \"Usuarios\" AS u
INNER JOIN (
    SELECT d.id, d.bloque, d.ciudad, d.\"codigoPostal\", d.\"comunidadAutonoma\", d.escalera, d.\"nombreVia\", d.numero, d.pais, d.piso, d.provincia, d.puerta, d.\"tipoVia\", u0.idusuario
    FROM \"UsuarioDirecciones\" AS u0
    INNER JOIN \"Direccion\" AS d ON u0.iddireccion = d.id
) AS t ON u.id = t.idusuario
WHERE u.id = @__idUsuario_0" (627a98df)
2025-09-03T13:31:24.1298207+02:00 80000032-0002-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"Infrastructure.Persistence.ApplicationDbContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: no existe la relación «Direccion»

POSITION: 433
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: no existe la relación «Direccion»
    Position: 433
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable" (f5c7ac34)
Npgsql.PostgresException (0x80004005): 42P01: no existe la relación «Direccion»

POSITION: 433
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: no existe la relación «Direccion»
    Position: 433
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
2025-09-03T13:41:26.2869241+02:00 80000032-0002-fa00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'. (605b4265)
2025-09-03T13:41:26.4753335+02:00 80000032-0002-fa00-b63f-84710c7967bb [INF] Executed action "API.Controllers.UsuariosController.GetDireccionesByUsuario (API)" in 693563.6167ms (afa2e885)
2025-09-03T13:41:26.4772676+02:00 80000032-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.UsuariosController.GetDireccionesByUsuario (API)"' (99874f2b)
2025-09-03T13:41:26.5306041+02:00 80000032-0002-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Usuarios/GetDireccionesByUsuario/1""" - 404 null "application/problem+json; charset=utf-8" 696660.5604ms (74253ad3)
2025-09-03T13:47:16.1451496+02:00  [INF] User profile is available. Using '"C:\Users\David\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-09-03T13:47:18.4865851+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-09-03T13:47:18.4911748+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-09-03T13:47:18.4950501+02:00  [INF] Content root path: "C:\Users\David\Desktop\API" (cc26f24e)
2025-09-03T13:47:18.8771304+02:00 80000034-0002-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - null null (d509f86a)
2025-09-03T13:49:02.0862162+02:00 80000034-0002-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 103199.1189ms (74253ad3)
2025-09-03T13:49:02.2044300+02:00 8000001a-0001-ff00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-09-03T13:49:02.2514010+02:00 8000001a-0001-ff00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - 200 13742 "application/javascript; charset=utf-8" 8.8055ms (74253ad3)
2025-09-03T13:49:02.2865627+02:00 80000086-0000-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - null null (d509f86a)
2025-09-03T13:49:02.8208508+02:00 80000086-0000-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 534.2112ms (74253ad3)
2025-09-03T13:49:04.3272921+02:00 800000f7-0006-ff00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-09-03T13:49:05.8186404+02:00 800000f7-0006-ff00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 1491.622ms (74253ad3)
2025-09-03T13:49:36.3453371+02:00 800000f9-0006-ff00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Usuarios/GetDireccionesByUsuario/1""" - null null (d509f86a)
2025-09-03T13:49:38.2855455+02:00 800000f9-0006-ff00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.UsuariosController.GetDireccionesByUsuario (API)"' (500cc934)
2025-09-03T13:49:38.9318644+02:00 800000f9-0006-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDireccionesByUsuario\", controller = \"Usuarios\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDireccionesByUsuario(Int32)" on controller "API.Controllers.UsuariosController" ("API"). (122b2fdf)
2025-09-03T13:49:52.4806548+02:00 800000f9-0006-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("321"ms) [Parameters=["@__idUsuario_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.bloque, t.ciudad, t.\"codigoPostal\", t.\"comunidadAutonoma\", t.escalera, t.\"nombreVia\", t.numero, t.pais, t.piso, t.provincia, t.puerta, t.\"tipoVia\"
FROM \"Usuarios\" AS u
INNER JOIN (
    SELECT d.id, d.bloque, d.ciudad, d.\"codigoPostal\", d.\"comunidadAutonoma\", d.escalera, d.\"nombreVia\", d.numero, d.pais, d.piso, d.provincia, d.puerta, d.\"tipoVia\", u0.idusuario
    FROM \"UsuarioDirecciones\" AS u0
    INNER JOIN \"Direcciones\" AS d ON u0.iddireccion = d.id
) AS t ON u.id = t.idusuario
WHERE u.id = @__idUsuario_0" (0723d8ff)
2025-09-03T13:50:27.5463205+02:00 800000f9-0006-ff00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Domain.Entities.Direccion, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T13:50:27.6180068+02:00 800000f9-0006-ff00-b63f-84710c7967bb [INF] Executed action "API.Controllers.UsuariosController.GetDireccionesByUsuario (API)" in 48678.4789ms (afa2e885)
2025-09-03T13:50:27.6188166+02:00 800000f9-0006-ff00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.UsuariosController.GetDireccionesByUsuario (API)"' (99874f2b)
2025-09-03T13:50:27.6376796+02:00 800000f9-0006-ff00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Usuarios/GetDireccionesByUsuario/1""" - 200 null "application/json; charset=utf-8" 51292.7281ms (74253ad3)
2025-09-03T13:51:21.3017769+02:00 80000028-0000-fe00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Transacciones/GetByUsuarioAsync/1""" - null null (d509f86a)
2025-09-03T13:51:24.8314736+02:00 80000028-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.TransaccionesController.GetByUsuarioAsync (API)"' (500cc934)
2025-09-03T13:51:24.8484196+02:00 80000028-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetByUsuario\", controller = \"Transacciones\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsuarioAsync(Int32)" on controller "API.Controllers.TransaccionesController" ("API"). (122b2fdf)
2025-09-03T13:51:29.4812471+02:00 80000028-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("65"ms) [Parameters=["@__idUsuario_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.fecha, t.\"idProducto\", t.\"idUsuario\", t.nombre, t.puntos
FROM \"Transacciones\" AS t
WHERE t.\"idUsuario\" = @__idUsuario_0" (0723d8ff)
2025-09-03T13:51:29.4844159+02:00 80000028-0000-fe00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Domain.Entities.Transaccion, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T13:51:29.4882786+02:00 80000028-0000-fe00-b63f-84710c7967bb [INF] Executed action "API.Controllers.TransaccionesController.GetByUsuarioAsync (API)" in 4639.4184ms (afa2e885)
2025-09-03T13:51:29.4884764+02:00 80000028-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.TransaccionesController.GetByUsuarioAsync (API)"' (99874f2b)
2025-09-03T13:51:29.4942906+02:00 80000028-0000-fe00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Transacciones/GetByUsuarioAsync/1""" - 200 null "application/json; charset=utf-8" 8192.407ms (74253ad3)
2025-09-03T13:53:29.3414908+02:00 800000fb-0006-ff00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Transacciones/GetByUsuarioAsync/1""" - null null (d509f86a)
2025-09-03T13:53:29.3458966+02:00 800000fb-0006-ff00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.TransaccionesController.GetByUsuarioAsync (API)"' (500cc934)
2025-09-03T13:53:29.3463243+02:00 800000fb-0006-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetByUsuario\", controller = \"Transacciones\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsuarioAsync(Int32)" on controller "API.Controllers.TransaccionesController" ("API"). (122b2fdf)
2025-09-03T13:53:44.5140498+02:00 800000fb-0006-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__idUsuario_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.fecha, t.\"idProducto\", t.\"idUsuario\", t.nombre, t.puntos
FROM \"Transacciones\" AS t
WHERE t.\"idUsuario\" = @__idUsuario_0" (0723d8ff)
2025-09-03T13:53:53.1677855+02:00 800000fb-0006-ff00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Domain.Entities.Transaccion, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T13:53:53.1686535+02:00 800000fb-0006-ff00-b63f-84710c7967bb [INF] Executed action "API.Controllers.TransaccionesController.GetByUsuarioAsync (API)" in 23822.1521ms (afa2e885)
2025-09-03T13:53:53.1687947+02:00 800000fb-0006-ff00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.TransaccionesController.GetByUsuarioAsync (API)"' (99874f2b)
2025-09-03T13:54:00.1872863+02:00 800000fb-0006-ff00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Transacciones/GetByUsuarioAsync/1""" - 200 null "application/json; charset=utf-8" 30846.1478ms (74253ad3)
2025-09-03T13:55:00.7400338+02:00 8000005c-0003-ff00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Recompensas/GetRecompensasByUsuario/1""" - null null (d509f86a)
2025-09-03T13:55:00.7413764+02:00 8000005c-0003-ff00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.RecompensasController.GetRecompensasByUsuario (API)"' (500cc934)
2025-09-03T13:55:00.7560168+02:00 8000005c-0003-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetRecompensasByUsuario\", controller = \"Recompensas\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecompensasByUsuario(Int32)" on controller "API.Controllers.RecompensasController" ("API"). (122b2fdf)
2025-09-03T13:55:32.0319788+02:00 8000005c-0003-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("21"ms) [Parameters=["@__idUsuario_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.id, r.descripcion, r.identidad, r.nombre, t.idusuario, t.idrecompensa, t.fecha, t.id, t.activo, t.apellidos, t.contraseña, t.correo, t.\"expiracionToken\", t.\"fechaCreación\", t.\"fechaNacimiento\", t.nombre, t.puntos, t.suscrito, t.token, t.\"ultimaConexion\"
FROM \"Recompensas\" AS r
LEFT JOIN (
    SELECT u0.idusuario, u0.idrecompensa, u0.fecha, u1.id, u1.activo, u1.apellidos, u1.contraseña, u1.correo, u1.\"expiracionToken\", u1.\"fechaCreación\", u1.\"fechaNacimiento\", u1.nombre, u1.puntos, u1.suscrito, u1.token, u1.\"ultimaConexion\"
    FROM \"UsuarioRecompensas\" AS u0
    INNER JOIN \"Usuarios\" AS u1 ON u0.idusuario = u1.id
) AS t ON r.id = t.idrecompensa
WHERE EXISTS (
    SELECT 1
    FROM \"UsuarioRecompensas\" AS u
    WHERE r.id = u.idrecompensa AND u.idusuario = @__idUsuario_0)
ORDER BY r.id, t.idusuario, t.idrecompensa" (0723d8ff)
2025-09-03T13:55:43.3689609+02:00 8000005c-0003-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"Infrastructure.Persistence.ApplicationDbContext"'."
""System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-09-03T13:55:47.0425087+02:00 8000005c-0003-ff00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'. (605b4265)
2025-09-03T13:55:47.1114122+02:00 8000005c-0003-ff00-b63f-84710c7967bb [INF] Executed action "API.Controllers.RecompensasController.GetRecompensasByUsuario (API)" in 46355.084ms (afa2e885)
2025-09-03T13:55:47.1115039+02:00 8000005c-0003-ff00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.RecompensasController.GetRecompensasByUsuario (API)"' (99874f2b)
2025-09-03T13:55:47.1119096+02:00 8000005c-0003-ff00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Recompensas/GetRecompensasByUsuario/1""" - 404 null "application/problem+json; charset=utf-8" 46372.117ms (74253ad3)
2025-09-03T14:05:37.0403967+02:00  [INF] User profile is available. Using '"C:\Users\David\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-09-03T14:05:47.4547064+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-09-03T14:05:47.5763994+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-09-03T14:05:47.6693778+02:00  [INF] Content root path: "C:\Users\David\Desktop\API" (cc26f24e)
2025-09-03T14:05:48.0800536+02:00 80000019-0000-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - null null (d509f86a)
2025-09-03T14:05:50.7337916+02:00 80000036-0002-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-09-03T14:05:50.7342209+02:00 80000019-0000-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 2773.7175ms (74253ad3)
2025-09-03T14:05:50.7733096+02:00 80000036-0002-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - 200 13742 "application/javascript; charset=utf-8" 3.573ms (74253ad3)
2025-09-03T14:05:50.8126921+02:00 8000001b-0000-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - null null (d509f86a)
2025-09-03T14:05:50.9526154+02:00 8000001b-0000-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 139.9494ms (74253ad3)
2025-09-03T14:05:51.4020774+02:00 80000038-0002-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-09-03T14:05:51.5591334+02:00 80000038-0002-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 157.1201ms (74253ad3)
2025-09-03T14:06:20.5541962+02:00 8000001e-0001-ff00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Actividades/GetActividadesByEntidad/1""" - null null (d509f86a)
2025-09-03T14:06:20.8154221+02:00 8000001e-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.ActividadesController.GetActividadesByEntidad (API)"' (500cc934)
2025-09-03T14:06:22.1591248+02:00 8000001e-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetActividadesByEntidad\", controller = \"Actividades\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActividadesByEntidad(Int32)" on controller "API.Controllers.ActividadesController" ("API"). (122b2fdf)
2025-09-03T14:06:47.7357090+02:00 8000001e-0001-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("398"ms) [Parameters=["@__idEntidad_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.id, a.activo, a.descripcion, a.\"descripcionCorta\", a.\"fechaFin\", a.\"fechaInicio\", a.gratis, a.\"idEntidad\", a.\"idTipoActividad\", a.imagen, a.\"informacioExtra\", a.\"linkEvento\", a.\"linkFacebook\", a.\"linkInstagram\", a.\"linkYoutube\", a.nombre, a.popularidad, a.ubicación
FROM \"Actividades\" AS a
WHERE a.\"idEntidad\" = @__idEntidad_0" (0723d8ff)
2025-09-03T14:06:48.4967038+02:00 8000001e-0001-ff00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'. (605b4265)
2025-09-03T14:06:48.6468834+02:00 8000001e-0001-ff00-b63f-84710c7967bb [INF] Executed action "API.Controllers.ActividadesController.GetActividadesByEntidad (API)" in 26449.4897ms (afa2e885)
2025-09-03T14:06:48.6479453+02:00 8000001e-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.ActividadesController.GetActividadesByEntidad (API)"' (99874f2b)
2025-09-03T14:06:48.7205581+02:00 8000001e-0001-ff00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Actividades/GetActividadesByEntidad/1""" - 404 null "application/problem+json; charset=utf-8" 28166.6395ms (74253ad3)
2025-09-03T14:09:14.4804512+02:00 8000004a-0001-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Actividades/GetActividadesByEntidad/1""" - null null (d509f86a)
2025-09-03T14:09:14.4851453+02:00 8000004a-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.ActividadesController.GetActividadesByEntidad (API)"' (500cc934)
2025-09-03T14:09:14.4859534+02:00 8000004a-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetActividadesByEntidad\", controller = \"Actividades\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActividadesByEntidad(Int32)" on controller "API.Controllers.ActividadesController" ("API"). (122b2fdf)
2025-09-03T14:10:15.5501680+02:00 8000004a-0001-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__idEntidad_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.id, a.activo, a.descripcion, a.\"descripcionCorta\", a.\"fechaFin\", a.\"fechaInicio\", a.gratis, a.\"idEntidad\", a.\"idTipoActividad\", a.imagen, a.\"informacioExtra\", a.\"linkEvento\", a.\"linkFacebook\", a.\"linkInstagram\", a.\"linkYoutube\", a.nombre, a.popularidad, a.ubicación
FROM \"Actividades\" AS a
WHERE a.\"idEntidad\" = @__idEntidad_0" (0723d8ff)
2025-09-03T14:10:22.3271720+02:00 8000004a-0001-fc00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'. (605b4265)
2025-09-03T14:10:22.3285882+02:00 8000004a-0001-fc00-b63f-84710c7967bb [INF] Executed action "API.Controllers.ActividadesController.GetActividadesByEntidad (API)" in 67842.3835ms (afa2e885)
2025-09-03T14:10:22.3287692+02:00 8000004a-0001-fc00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.ActividadesController.GetActividadesByEntidad (API)"' (99874f2b)
2025-09-03T14:10:22.3310121+02:00 8000004a-0001-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Actividades/GetActividadesByEntidad/1""" - 404 null "application/problem+json; charset=utf-8" 67849.3975ms (74253ad3)
2025-09-03T14:10:27.2543627+02:00 80000019-0003-fd00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Actividades/GetActividadesByEntidad/2""" - null null (d509f86a)
2025-09-03T14:10:27.2548061+02:00 80000019-0003-fd00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.ActividadesController.GetActividadesByEntidad (API)"' (500cc934)
2025-09-03T14:10:27.2549377+02:00 80000019-0003-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetActividadesByEntidad\", controller = \"Actividades\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActividadesByEntidad(Int32)" on controller "API.Controllers.ActividadesController" ("API"). (122b2fdf)
2025-09-03T14:10:29.3474845+02:00 80000019-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__idEntidad_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.id, a.activo, a.descripcion, a.\"descripcionCorta\", a.\"fechaFin\", a.\"fechaInicio\", a.gratis, a.\"idEntidad\", a.\"idTipoActividad\", a.imagen, a.\"informacioExtra\", a.\"linkEvento\", a.\"linkFacebook\", a.\"linkInstagram\", a.\"linkYoutube\", a.nombre, a.popularidad, a.ubicación
FROM \"Actividades\" AS a
WHERE a.\"idEntidad\" = @__idEntidad_0" (0723d8ff)
2025-09-03T14:10:32.4748261+02:00 80000019-0003-fd00-b63f-84710c7967bb [INF] Mensaje no definido. (e2ae16ec)
2025-09-03T14:10:32.5157353+02:00 80000019-0003-fd00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Linq.OrderedEnumerable`2[[Domain.Entities.Actividad, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-09-03T14:10:32.5854660+02:00 80000019-0003-fd00-b63f-84710c7967bb [INF] Executed action "API.Controllers.ActividadesController.GetActividadesByEntidad (API)" in 5330.3816ms (afa2e885)
2025-09-03T14:10:32.5856260+02:00 80000019-0003-fd00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.ActividadesController.GetActividadesByEntidad (API)"' (99874f2b)
2025-09-03T14:10:32.5860863+02:00 80000019-0003-fd00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Actividades/GetActividadesByEntidad/2""" - 200 null "application/json; charset=utf-8" 5331.7816ms (74253ad3)
2025-09-03T14:10:53.1007947+02:00 8000001b-0003-fd00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Actividades/GetActividadesByTipoEntidad/ddaf6bfb-b48e-4714-bc16-aef26183ba73""" - null null (d509f86a)
2025-09-03T14:10:53.1016714+02:00 8000001b-0003-fd00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.ActividadesController.GetActividadesByTipoEntidad (API)"' (500cc934)
2025-09-03T14:10:53.1113426+02:00 8000001b-0003-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetActividadesByTipoEntidad\", controller = \"Actividades\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActividadesByTipoEntidad(System.Guid)" on controller "API.Controllers.ActividadesController" ("API"). (122b2fdf)
2025-09-03T14:10:57.5471165+02:00 8000001b-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("77"ms) [Parameters=["@__idTipoEntidad_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.id, a.activo, a.descripcion, a.\"descripcionCorta\", a.\"fechaFin\", a.\"fechaInicio\", a.gratis, a.\"idEntidad\", a.\"idTipoActividad\", a.imagen, a.\"informacioExtra\", a.\"linkEvento\", a.\"linkFacebook\", a.\"linkInstagram\", a.\"linkYoutube\", a.nombre, a.popularidad, a.ubicación
FROM \"Actividades\" AS a
WHERE a.\"idTipoActividad\" = @__idTipoEntidad_0" (0723d8ff)
2025-09-03T14:10:58.7440568+02:00 8000001b-0003-fd00-b63f-84710c7967bb [INF] Mensaje no definido. (e2ae16ec)
2025-09-03T14:10:58.7445890+02:00 8000001b-0003-fd00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Linq.OrderedEnumerable`2[[Domain.Entities.Actividad, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-09-03T14:10:58.7538545+02:00 8000001b-0003-fd00-b63f-84710c7967bb [INF] Executed action "API.Controllers.ActividadesController.GetActividadesByTipoEntidad (API)" in 5642.3593ms (afa2e885)
2025-09-03T14:10:58.7539366+02:00 8000001b-0003-fd00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.ActividadesController.GetActividadesByTipoEntidad (API)"' (99874f2b)
2025-09-03T14:10:58.7543048+02:00 8000001b-0003-fd00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Actividades/GetActividadesByTipoEntidad/ddaf6bfb-b48e-4714-bc16-aef26183ba73""" - 200 null "application/json; charset=utf-8" 5653.7114ms (74253ad3)
2025-09-03T14:11:15.5098999+02:00 8000003f-0002-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Actividades/GetImagenesByActividad/1""" - null null (d509f86a)
2025-09-03T14:11:15.5103664+02:00 8000003f-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.ActividadesController.GetImagenesByActividad (API)"' (500cc934)
2025-09-03T14:11:15.5154499+02:00 8000003f-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetImagenesByActividad\", controller = \"Actividades\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImagenesByActividad(Int32)" on controller "API.Controllers.ActividadesController" ("API"). (122b2fdf)
2025-09-03T14:11:16.1261386+02:00 8000003f-0002-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("234"ms) [Parameters=["@__idActividad_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.id, a.idactividad, a.imagen, a0.id, a0.activo, a0.descripcion, a0.\"descripcionCorta\", a0.\"fechaFin\", a0.\"fechaInicio\", a0.gratis, a0.\"idEntidad\", a0.\"idTipoActividad\", a0.imagen, a0.\"informacioExtra\", a0.\"linkEvento\", a0.\"linkFacebook\", a0.\"linkInstagram\", a0.\"linkYoutube\", a0.nombre, a0.popularidad, a0.ubicación
FROM \"ActividadImagenes\" AS a
INNER JOIN \"Actividades\" AS a0 ON a.idactividad = a0.id
WHERE a.idactividad = @__idActividad_0" (0723d8ff)
2025-09-03T14:11:16.1889670+02:00 8000003f-0002-fa00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Application.DTOs.Responses.ImagenesActividadDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T14:11:16.2175418+02:00 8000003f-0002-fa00-b63f-84710c7967bb [INF] Executed action "API.Controllers.ActividadesController.GetImagenesByActividad (API)" in 701.9955ms (afa2e885)
2025-09-03T14:11:16.2176106+02:00 8000003f-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.ActividadesController.GetImagenesByActividad (API)"' (99874f2b)
2025-09-03T14:11:16.2178324+02:00 8000003f-0002-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Actividades/GetImagenesByActividad/1""" - 200 null "application/json; charset=utf-8" 708.2598ms (74253ad3)
2025-09-03T14:11:38.5759350+02:00 80000101-0006-ff00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Entidades/GetCategoriasByEntidad/1""" - null null (d509f86a)
2025-09-03T14:11:38.5766408+02:00 80000101-0006-ff00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.EntidadesController.GetCategoriasByEntidad (API)"' (500cc934)
2025-09-03T14:11:38.5814631+02:00 80000101-0006-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetCategoriasByEntidad\", controller = \"Entidades\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriasByEntidad(Int32)" on controller "API.Controllers.EntidadesController" ("API"). (122b2fdf)
2025-09-03T14:11:43.6003321+02:00 80000101-0006-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("96"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT e.id, e.activo, e.descripcion, e.\"fechaAlta\", e.\"idTipoEntidad\", e.imagen, e.nombre, e.popularidad, e.ubicacion, t.identidad, t.idcategoria, t.id, t.descripcion, t.\"idTipoEntidad\", t.nombre
FROM \"Entidades\" AS e
LEFT JOIN (
    SELECT e0.identidad, e0.idcategoria, c.id, c.descripcion, c.\"idTipoEntidad\", c.nombre
    FROM \"EntidadCategorias\" AS e0
    INNER JOIN \"Categorias\" AS c ON e0.idcategoria = c.id
) AS t ON e.id = t.identidad
WHERE e.id = @__id_0
ORDER BY e.id, t.identidad, t.idcategoria" (0723d8ff)
2025-09-03T14:11:55.2525591+02:00 80000101-0006-ff00-b63f-84710c7967bb [INF] Mensaje no definido. (e2ae16ec)
2025-09-03T14:11:55.2530430+02:00 80000101-0006-ff00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Linq.OrderedEnumerable`2[[Domain.Entities.Categoria, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-09-03T14:11:55.2573738+02:00 80000101-0006-ff00-b63f-84710c7967bb [INF] Executed action "API.Controllers.EntidadesController.GetCategoriasByEntidad (API)" in 16675.784ms (afa2e885)
2025-09-03T14:11:55.2575500+02:00 80000101-0006-ff00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.EntidadesController.GetCategoriasByEntidad (API)"' (99874f2b)
2025-09-03T14:11:55.2582565+02:00 80000101-0006-ff00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Entidades/GetCategoriasByEntidad/1""" - 200 null "application/json; charset=utf-8" 16682.2083ms (74253ad3)
2025-09-03T14:12:12.7444373+02:00 8000002a-0000-f900-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Productos/GetImagenesByProducto/1""" - null null (d509f86a)
2025-09-03T14:12:12.7454963+02:00 8000002a-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.ProductosController.GetImagenesByProducto (API)"' (500cc934)
2025-09-03T14:12:12.7820907+02:00 8000002a-0000-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetImagenesByProducto\", controller = \"Productos\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImagenesByProducto(Int32)" on controller "API.Controllers.ProductosController" ("API"). (122b2fdf)
2025-09-03T14:12:16.5840137+02:00 8000002a-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("125"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT p.id, p.idproducto, p.imagen, p0.id, p0.activo, p0.descripcion, p0.\"descripcionCorta\", p0.descuento, p0.disponible, p0.\"idEntidad\", p0.imagen, p0.\"informacioExtra\", p0.\"linkFacebook\", p0.\"linkInstagram\", p0.\"linkYoutube\", p0.nombre, p0.popularidad, p0.precio, p0.puntos
FROM \"ProductoImagenes\" AS p
INNER JOIN \"Productos\" AS p0 ON p.idproducto = p0.id
WHERE p.idproducto = @__id_0" (0723d8ff)
2025-09-03T14:12:19.1990279+02:00 8000002a-0000-f900-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Application.DTOs.Responses.ImagenesProductoDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T14:12:19.2017761+02:00 8000002a-0000-f900-b63f-84710c7967bb [INF] Executed action "API.Controllers.ProductosController.GetImagenesByProducto (API)" in 6419.4767ms (afa2e885)
2025-09-03T14:12:19.2018687+02:00 8000002a-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.ProductosController.GetImagenesByProducto (API)"' (99874f2b)
2025-09-03T14:12:19.2021631+02:00 8000002a-0000-f900-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Productos/GetImagenesByProducto/1""" - 200 null "application/json; charset=utf-8" 6457.8928ms (74253ad3)
2025-09-03T14:13:07.2125468+02:00 80000022-0000-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Recompensas/ObtenerRecompensasByEntity""?idEntidad=2" - null null (d509f86a)
2025-09-03T14:13:07.2132260+02:00 80000022-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.RecompensasController.GetByEntidadAsync (API)"' (500cc934)
2025-09-03T14:13:07.2182310+02:00 80000022-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetByEntidad\", controller = \"Recompensas\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByEntidadAsync(Int32)" on controller "API.Controllers.RecompensasController" ("API"). (122b2fdf)
2025-09-03T14:13:07.4949886+02:00 80000022-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__idEntidad_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.id, r.descripcion, r.identidad, r.nombre
FROM \"Recompensas\" AS r
WHERE r.identidad = @__idEntidad_0" (0723d8ff)
2025-09-03T14:13:07.5069066+02:00 80000022-0000-fa00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Domain.Entities.Recompensa, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T14:13:07.5090502+02:00 80000022-0000-fa00-b63f-84710c7967bb [INF] Executed action "API.Controllers.RecompensasController.GetByEntidadAsync (API)" in 290.7411ms (afa2e885)
2025-09-03T14:13:07.5091057+02:00 80000022-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.RecompensasController.GetByEntidadAsync (API)"' (99874f2b)
2025-09-03T14:13:07.5093633+02:00 80000022-0000-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Recompensas/ObtenerRecompensasByEntity""?idEntidad=2" - 200 null "application/json; charset=utf-8" 297.06ms (74253ad3)
2025-09-03T14:13:30.0061317+02:00 80000024-0000-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Usuarios/GetDireccionesByUsuario/1""" - null null (d509f86a)
2025-09-03T14:13:30.0069429+02:00 80000024-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.UsuariosController.GetDireccionesByUsuario (API)"' (500cc934)
2025-09-03T14:13:30.0130933+02:00 80000024-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDireccionesByUsuario\", controller = \"Usuarios\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDireccionesByUsuario(Int32)" on controller "API.Controllers.UsuariosController" ("API"). (122b2fdf)
2025-09-03T14:13:38.2303725+02:00 80000024-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@__idUsuario_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.bloque, t.ciudad, t.\"codigoPostal\", t.\"comunidadAutonoma\", t.escalera, t.\"nombreVia\", t.numero, t.pais, t.piso, t.provincia, t.puerta, t.\"tipoVia\"
FROM \"Usuarios\" AS u
INNER JOIN (
    SELECT d.id, d.bloque, d.ciudad, d.\"codigoPostal\", d.\"comunidadAutonoma\", d.escalera, d.\"nombreVia\", d.numero, d.pais, d.piso, d.provincia, d.puerta, d.\"tipoVia\", u0.idusuario
    FROM \"UsuarioDirecciones\" AS u0
    INNER JOIN \"Direcciones\" AS d ON u0.iddireccion = d.id
) AS t ON u.id = t.idusuario
WHERE u.id = @__idUsuario_0" (0723d8ff)
2025-09-03T14:13:40.2077979+02:00 80000024-0000-fa00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Domain.Entities.Direccion, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T14:13:40.2271291+02:00 80000024-0000-fa00-b63f-84710c7967bb [INF] Executed action "API.Controllers.UsuariosController.GetDireccionesByUsuario (API)" in 10213.9461ms (afa2e885)
2025-09-03T14:13:40.2271874+02:00 80000024-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.UsuariosController.GetDireccionesByUsuario (API)"' (99874f2b)
2025-09-03T14:13:40.2274281+02:00 80000024-0000-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Usuarios/GetDireccionesByUsuario/1""" - 200 null "application/json; charset=utf-8" 10221.4117ms (74253ad3)
2025-09-03T14:13:54.0124188+02:00 80000041-0002-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Transacciones/GetByUsuarioAsync/1""" - null null (d509f86a)
2025-09-03T14:13:54.0139391+02:00 80000041-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.TransaccionesController.GetByUsuarioAsync (API)"' (500cc934)
2025-09-03T14:13:54.0201096+02:00 80000041-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetByUsuario\", controller = \"Transacciones\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsuarioAsync(Int32)" on controller "API.Controllers.TransaccionesController" ("API"). (122b2fdf)
2025-09-03T14:13:57.0682418+02:00 80000041-0002-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__idUsuario_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.fecha, t.\"idProducto\", t.\"idUsuario\", t.nombre, t.puntos
FROM \"Transacciones\" AS t
WHERE t.\"idUsuario\" = @__idUsuario_0" (0723d8ff)
2025-09-03T14:13:57.7874719+02:00 80000041-0002-fa00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Domain.Entities.Transaccion, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T14:13:57.8126099+02:00 80000041-0002-fa00-b63f-84710c7967bb [INF] Executed action "API.Controllers.TransaccionesController.GetByUsuarioAsync (API)" in 3792.406ms (afa2e885)
2025-09-03T14:13:57.8126795+02:00 80000041-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.TransaccionesController.GetByUsuarioAsync (API)"' (99874f2b)
2025-09-03T14:13:57.8147989+02:00 80000041-0002-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Transacciones/GetByUsuarioAsync/1""" - 200 null "application/json; charset=utf-8" 3802.5624ms (74253ad3)
2025-09-03T14:14:47.5807506+02:00 80000065-0004-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Transacciones/GetByProductoAsync/1""" - null null (d509f86a)
2025-09-03T14:14:47.5833488+02:00 80000065-0004-fc00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.TransaccionesController.GetByProductoAsync (API)"' (500cc934)
2025-09-03T14:14:47.5876029+02:00 80000065-0004-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetByProducto\", controller = \"Transacciones\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByProductoAsync(Int32)" on controller "API.Controllers.TransaccionesController" ("API"). (122b2fdf)
2025-09-03T14:14:59.9725727+02:00 80000065-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__idProducto_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.fecha, t.\"idProducto\", t.\"idUsuario\", t.nombre, t.puntos
FROM \"Transacciones\" AS t
WHERE t.\"idProducto\" = @__idProducto_0" (0723d8ff)
2025-09-03T14:14:59.9769107+02:00 80000065-0004-fc00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Domain.Entities.Transaccion, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T14:14:59.9785750+02:00 80000065-0004-fc00-b63f-84710c7967bb [INF] Executed action "API.Controllers.TransaccionesController.GetByProductoAsync (API)" in 12390.9001ms (afa2e885)
2025-09-03T14:14:59.9786363+02:00 80000065-0004-fc00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.TransaccionesController.GetByProductoAsync (API)"' (99874f2b)
2025-09-03T14:14:59.9790790+02:00 80000065-0004-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Transacciones/GetByProductoAsync/1""" - 200 null "application/json; charset=utf-8" 12398.4125ms (74253ad3)
2025-09-03T14:46:41.0265384+02:00  [INF] User profile is available. Using '"C:\Users\David\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-09-03T14:47:01.0469857+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-09-03T14:47:01.1173010+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-09-03T14:47:01.1220359+02:00  [INF] Content root path: "C:\Users\David\Desktop\API" (cc26f24e)
2025-09-03T14:47:02.3269248+02:00 8000003a-0006-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - null null (d509f86a)
2025-09-03T14:47:07.8513184+02:00 8000003a-0006-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 5695.4784ms (74253ad3)
2025-09-03T14:47:09.0022541+02:00 80000027-0004-f900-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-09-03T14:47:09.0788928+02:00 80000027-0004-f900-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - 200 13742 "application/javascript; charset=utf-8" 3.732ms (74253ad3)
2025-09-03T14:47:09.7995080+02:00 8000003c-0006-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - null null (d509f86a)
2025-09-03T14:47:10.1657897+02:00 8000003c-0006-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 365.9634ms (74253ad3)
2025-09-03T14:47:12.1676528+02:00 8000002d-0001-fd00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-09-03T14:47:12.2348656+02:00 8000002d-0001-fd00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 67.647ms (74253ad3)
2025-09-03T14:48:25.6676106+02:00 80000069-0004-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - "application/json" 57 (d509f86a)
2025-09-03T14:48:25.6910544+02:00 80000069-0004-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2025-09-03T14:48:25.8829452+02:00 80000069-0004-fc00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.AuthController.Login (API)"' (500cc934)
2025-09-03T14:48:26.3704636+02:00 80000069-0004-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login(Domain.Entities.LoginDto)" on controller "API.Controllers.AuthController" ("API"). (122b2fdf)
2025-09-03T14:48:52.5816893+02:00 80000069-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("404"ms) [Parameters=["@__u_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
FROM \"Usuarios\" AS u
WHERE u.nombre = @__u_0
LIMIT 2" (0723d8ff)
2025-09-03T14:49:36.6321759+02:00 80000069-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("210"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.activo, t.apellidos, t.contraseña, t.correo, t.\"expiracionToken\", t.\"fechaCreación\", t.\"fechaNacimiento\", t.nombre, t.puntos, t.suscrito, t.token, t.\"ultimaConexion\", t0.idrol, t0.idusuario, t0.identidad, t0.id, t0.descripcion, t0.nombre, t0.id0, t0.activo, t0.descripcion0, t0.\"fechaAlta\", t0.\"idTipoEntidad\", t0.imagen, t0.nombre0, t0.popularidad, t0.ubicacion
FROM (
    SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
    FROM \"Usuarios\" AS u
    WHERE u.id = @__id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT u0.idrol, u0.idusuario, u0.identidad, r.id, r.descripcion, r.nombre, e.id AS id0, e.activo, e.descripcion AS descripcion0, e.\"fechaAlta\", e.\"idTipoEntidad\", e.imagen, e.nombre AS nombre0, e.popularidad, e.ubicacion
    FROM \"UsuarioRoles\" AS u0
    INNER JOIN \"Roles\" AS r ON u0.idrol = r.id
    INNER JOIN \"Entidades\" AS e ON u0.identidad = e.id
) AS t0 ON t.id = t0.idusuario
ORDER BY t.id, t0.idrol, t0.idusuario, t0.identidad, t0.id" (0723d8ff)
2025-09-03T14:49:46.4197767+02:00 80000069-0004-fc00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-09-03T14:49:46.4330249+02:00 80000069-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("100"ms) [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Usuarios\" SET \"expiracionToken\" = @p0, token = @p1
WHERE id = @p2;" (0723d8ff)
2025-09-03T14:49:46.4905555+02:00 80000069-0004-fc00-b63f-84710c7967bb [INF] Executed action "API.Controllers.AuthController.Login (API)" in 80115.1589ms (afa2e885)
2025-09-03T14:49:46.4907021+02:00 80000069-0004-fc00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.AuthController.Login (API)"' (99874f2b)
2025-09-03T14:49:46.5099250+02:00 80000069-0004-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - 200 null "application/json; charset=utf-8" 80842.7305ms (74253ad3)
2025-09-03T14:50:35.0055636+02:00 8000003e-0006-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - "application/json" 57 (d509f86a)
2025-09-03T14:50:35.0077534+02:00 8000003e-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2025-09-03T14:50:35.0081761+02:00 8000003e-0006-fc00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.AuthController.Login (API)"' (500cc934)
2025-09-03T14:50:35.0086771+02:00 8000003e-0006-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login(Domain.Entities.LoginDto)" on controller "API.Controllers.AuthController" ("API"). (122b2fdf)
2025-09-03T14:50:35.0829868+02:00 8000003e-0006-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__u_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
FROM \"Usuarios\" AS u
WHERE u.nombre = @__u_0
LIMIT 2" (0723d8ff)
2025-09-03T14:50:37.1110570+02:00 8000003e-0006-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.activo, t.apellidos, t.contraseña, t.correo, t.\"expiracionToken\", t.\"fechaCreación\", t.\"fechaNacimiento\", t.nombre, t.puntos, t.suscrito, t.token, t.\"ultimaConexion\", t0.idrol, t0.idusuario, t0.identidad, t0.id, t0.descripcion, t0.nombre, t0.id0, t0.activo, t0.descripcion0, t0.\"fechaAlta\", t0.\"idTipoEntidad\", t0.imagen, t0.nombre0, t0.popularidad, t0.ubicacion
FROM (
    SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
    FROM \"Usuarios\" AS u
    WHERE u.id = @__id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT u0.idrol, u0.idusuario, u0.identidad, r.id, r.descripcion, r.nombre, e.id AS id0, e.activo, e.descripcion AS descripcion0, e.\"fechaAlta\", e.\"idTipoEntidad\", e.imagen, e.nombre AS nombre0, e.popularidad, e.ubicacion
    FROM \"UsuarioRoles\" AS u0
    INNER JOIN \"Roles\" AS r ON u0.idrol = r.id
    INNER JOIN \"Entidades\" AS e ON u0.identidad = e.id
) AS t0 ON t.id = t0.idusuario
ORDER BY t.id, t0.idrol, t0.idusuario, t0.identidad, t0.id" (0723d8ff)
2025-09-03T14:52:47.0570546+02:00 8000003e-0006-fc00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-09-03T14:52:47.0581141+02:00 8000003e-0006-fc00-b63f-84710c7967bb [INF] Executed action "API.Controllers.AuthController.Login (API)" in 132049.2729ms (afa2e885)
2025-09-03T14:52:47.0582348+02:00 8000003e-0006-fc00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.AuthController.Login (API)"' (99874f2b)
2025-09-03T14:52:47.2010379+02:00 8000003e-0006-fc00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("154"ms) [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Usuarios\" SET \"expiracionToken\" = @p0, token = @p1
WHERE id = @p2;" (627a98df)
2025-09-03T14:53:42.1231908+02:00 8000006b-0004-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - "application/json" 57 (d509f86a)
2025-09-03T14:53:42.1236663+02:00 8000006b-0004-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2025-09-03T14:53:42.1238588+02:00 8000006b-0004-fc00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.AuthController.Login (API)"' (500cc934)
2025-09-03T14:53:42.1240504+02:00 8000006b-0004-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login(Domain.Entities.LoginDto)" on controller "API.Controllers.AuthController" ("API"). (122b2fdf)
2025-09-03T14:53:42.2699623+02:00 8000006b-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__u_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
FROM \"Usuarios\" AS u
WHERE u.nombre = @__u_0
LIMIT 2" (0723d8ff)
2025-09-03T14:53:45.6708688+02:00 8000006b-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.activo, t.apellidos, t.contraseña, t.correo, t.\"expiracionToken\", t.\"fechaCreación\", t.\"fechaNacimiento\", t.nombre, t.puntos, t.suscrito, t.token, t.\"ultimaConexion\", t0.idrol, t0.idusuario, t0.identidad, t0.id, t0.descripcion, t0.nombre, t0.id0, t0.activo, t0.descripcion0, t0.\"fechaAlta\", t0.\"idTipoEntidad\", t0.imagen, t0.nombre0, t0.popularidad, t0.ubicacion
FROM (
    SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
    FROM \"Usuarios\" AS u
    WHERE u.id = @__id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT u0.idrol, u0.idusuario, u0.identidad, r.id, r.descripcion, r.nombre, e.id AS id0, e.activo, e.descripcion AS descripcion0, e.\"fechaAlta\", e.\"idTipoEntidad\", e.imagen, e.nombre AS nombre0, e.popularidad, e.ubicacion
    FROM \"UsuarioRoles\" AS u0
    INNER JOIN \"Roles\" AS r ON u0.idrol = r.id
    INNER JOIN \"Entidades\" AS e ON u0.identidad = e.id
) AS t0 ON t.id = t0.idusuario
ORDER BY t.id, t0.idrol, t0.idusuario, t0.identidad, t0.id" (0723d8ff)
2025-09-03T14:54:06.4316042+02:00 8000006b-0004-fc00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-09-03T14:54:06.4323399+02:00 8000006b-0004-fc00-b63f-84710c7967bb [INF] Executed action "API.Controllers.AuthController.Login (API)" in 24307.9585ms (afa2e885)
2025-09-03T14:54:06.4336286+02:00 8000006b-0004-fc00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.AuthController.Login (API)"' (99874f2b)
2025-09-03T14:54:06.4360747+02:00 8000006b-0004-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - 200 null "application/json; charset=utf-8" 24311.7204ms (74253ad3)
2025-09-03T14:54:06.4360441+02:00 8000006b-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Usuarios\" SET \"expiracionToken\" = @p0, token = @p1
WHERE id = @p2;" (0723d8ff)
2025-09-03T14:54:35.6448287+02:00 8000002f-0001-fd00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Actividades/ObtenerActividades""" - null null (d509f86a)
2025-09-03T14:54:36.2334446+02:00 8000002f-0001-fd00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.ActividadesController.GetAllAsync (API)"' (500cc934)
2025-09-03T14:54:36.2641246+02:00 8000002f-0001-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAll\", controller = \"Actividades\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync()" on controller "API.Controllers.ActividadesController" ("API"). (122b2fdf)
2025-09-03T14:54:36.3983563+02:00 8000002f-0001-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("52"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.id, a.activo, a.descripcion, a.\"descripcionCorta\", a.\"fechaFin\", a.\"fechaInicio\", a.gratis, a.\"idEntidad\", a.\"idTipoActividad\", a.imagen, a.\"informacioExtra\", a.\"linkEvento\", a.\"linkFacebook\", a.\"linkInstagram\", a.\"linkYoutube\", a.nombre, a.popularidad, a.ubicación
FROM \"Actividades\" AS a" (0723d8ff)
2025-09-03T14:54:36.4959432+02:00 8000002f-0001-fd00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Domain.Entities.Actividad, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T14:54:36.5413390+02:00 8000002f-0001-fd00-b63f-84710c7967bb [INF] Executed action "API.Controllers.ActividadesController.GetAllAsync (API)" in 277.1092ms (afa2e885)
2025-09-03T14:54:36.5419269+02:00 8000002f-0001-fd00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.ActividadesController.GetAllAsync (API)"' (99874f2b)
2025-09-03T14:54:36.5449145+02:00 8000002f-0001-fd00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Actividades/ObtenerActividades""" - 200 null "application/json; charset=utf-8" 900.481ms (74253ad3)
2025-09-03T14:54:43.4479739+02:00 8000006d-0004-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Productos/ObtenerProductos""" - null null (d509f86a)
2025-09-03T14:54:43.4513009+02:00 8000006d-0004-fc00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.ProductosController.GetAllAsync (API)"' (500cc934)
2025-09-03T14:54:43.4883673+02:00 8000006d-0004-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAll\", controller = \"Productos\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync()" on controller "API.Controllers.ProductosController" ("API"). (122b2fdf)
2025-09-03T14:54:43.4934363+02:00 8000006d-0004-fc00-b63f-84710c7967bb [INF] Obteniendo todos los productos. (ea814e3b)
2025-09-03T14:54:43.5945718+02:00 8000006d-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("69"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT p.id, p.activo, p.descripcion, p.\"descripcionCorta\", p.descuento, p.disponible, p.\"idEntidad\", p.imagen, p.\"informacioExtra\", p.\"linkFacebook\", p.\"linkInstagram\", p.\"linkYoutube\", p.nombre, p.popularidad, p.precio, p.puntos
FROM \"Productos\" AS p" (0723d8ff)
2025-09-03T14:54:43.6577705+02:00 8000006d-0004-fc00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Domain.Entities.Producto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T14:54:43.6952629+02:00 8000006d-0004-fc00-b63f-84710c7967bb [INF] Executed action "API.Controllers.ProductosController.GetAllAsync (API)" in 206.7583ms (afa2e885)
2025-09-03T14:54:43.6954192+02:00 8000006d-0004-fc00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.ProductosController.GetAllAsync (API)"' (99874f2b)
2025-09-03T14:54:43.6962526+02:00 8000006d-0004-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Productos/ObtenerProductos""" - 200 null "application/json; charset=utf-8" 248.2921ms (74253ad3)
2025-09-03T14:54:49.0510587+02:00 8000006f-0004-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Recompensas/ObtenerRecompensas""" - null null (d509f86a)
2025-09-03T14:54:49.0546752+02:00 8000006f-0004-fc00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.RecompensasController.GetAllAsync (API)"' (500cc934)
2025-09-03T14:54:49.0636044+02:00 8000006f-0004-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAll\", controller = \"Recompensas\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync()" on controller "API.Controllers.RecompensasController" ("API"). (122b2fdf)
2025-09-03T14:54:49.1138209+02:00 8000006f-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT r.id, r.descripcion, r.identidad, r.nombre
FROM \"Recompensas\" AS r" (0723d8ff)
2025-09-03T14:54:49.1248912+02:00 8000006f-0004-fc00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Domain.Entities.Recompensa, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T14:54:49.1273353+02:00 8000006f-0004-fc00-b63f-84710c7967bb [INF] Executed action "API.Controllers.RecompensasController.GetAllAsync (API)" in 63.6039ms (afa2e885)
2025-09-03T14:54:49.1274052+02:00 8000006f-0004-fc00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.RecompensasController.GetAllAsync (API)"' (99874f2b)
2025-09-03T14:54:49.1277173+02:00 8000006f-0004-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Recompensas/ObtenerRecompensas""" - 200 null "application/json; charset=utf-8" 90.2974ms (74253ad3)
2025-09-03T14:54:56.5163525+02:00 80000071-0004-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Roles/ObtenerRoles""" - null null (d509f86a)
2025-09-03T14:54:56.5176357+02:00 80000071-0004-fc00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.RolesController.GetAllAsync (API)"' (500cc934)
2025-09-03T14:54:56.5230269+02:00 80000071-0004-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAll\", controller = \"Roles\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync()" on controller "API.Controllers.RolesController" ("API"). (122b2fdf)
2025-09-03T14:54:56.5453490+02:00 80000071-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT r.id, r.descripcion, r.nombre
FROM \"Roles\" AS r" (0723d8ff)
2025-09-03T14:54:56.5491224+02:00 80000071-0004-fc00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Domain.Entities.Rol, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T14:54:56.5513734+02:00 80000071-0004-fc00-b63f-84710c7967bb [INF] Executed action "API.Controllers.RolesController.GetAllAsync (API)" in 28.2343ms (afa2e885)
2025-09-03T14:54:56.5514437+02:00 80000071-0004-fc00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.RolesController.GetAllAsync (API)"' (99874f2b)
2025-09-03T14:54:56.5518045+02:00 80000071-0004-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Roles/ObtenerRoles""" - 200 null "application/json; charset=utf-8" 35.5528ms (74253ad3)
2025-09-03T14:55:03.6949490+02:00 80000013-0002-f900-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Usuarios/ObtenerUsuarios""" - null null (d509f86a)
2025-09-03T14:55:03.6978562+02:00 80000013-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.UsuariosController.GetAllAsync (API)"' (500cc934)
2025-09-03T14:55:03.7031292+02:00 80000013-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAll\", controller = \"Usuarios\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync()" on controller "API.Controllers.UsuariosController" ("API"). (122b2fdf)
2025-09-03T14:55:03.7373750+02:00 80000013-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
FROM \"Usuarios\" AS u" (0723d8ff)
2025-09-03T14:55:03.7403226+02:00 80000013-0002-f900-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Domain.Entities.Usuario, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T14:55:03.7458669+02:00 80000013-0002-f900-b63f-84710c7967bb [INF] Executed action "API.Controllers.UsuariosController.GetAllAsync (API)" in 42.6292ms (afa2e885)
2025-09-03T14:55:03.7459281+02:00 80000013-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.UsuariosController.GetAllAsync (API)"' (99874f2b)
2025-09-03T14:55:03.7461699+02:00 80000013-0002-f900-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Usuarios/ObtenerUsuarios""" - 200 null "application/json; charset=utf-8" 51.5009ms (74253ad3)
2025-09-03T15:34:31.7411552+02:00  [INF] User profile is available. Using '"C:\Users\David\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-09-03T15:34:36.5115621+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-09-03T15:34:36.6213966+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-09-03T15:34:36.6855091+02:00  [INF] Content root path: "C:\Users\David\Desktop\API" (cc26f24e)
2025-09-03T15:34:36.7463141+02:00 80000077-0005-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - null null (d509f86a)
2025-09-03T15:34:41.2663687+02:00 80000077-0005-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 4597.4123ms (74253ad3)
2025-09-03T15:34:41.3187867+02:00 80000077-0004-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-09-03T15:34:41.3432672+02:00 80000077-0004-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - 200 13742 "application/javascript; charset=utf-8" 7.0646ms (74253ad3)
2025-09-03T15:34:41.4232581+02:00 80000079-0004-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - null null (d509f86a)
2025-09-03T15:34:41.6261894+02:00 80000079-0004-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 203.1198ms (74253ad3)
2025-09-03T15:34:42.3701037+02:00 8000003e-0007-fe00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-09-03T15:34:42.4416237+02:00 8000003e-0007-fe00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 71.6466ms (74253ad3)
2025-09-03T15:36:37.7867410+02:00 8000007b-0004-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - "application/json" 57 (d509f86a)
2025-09-03T15:36:37.8175354+02:00 8000007b-0004-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2025-09-03T15:36:38.2073454+02:00 8000007b-0004-fc00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.AuthController.Login (API)"' (500cc934)
2025-09-03T15:36:39.1318273+02:00 8000007b-0004-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login(Domain.Entities.LoginDto)" on controller "API.Controllers.AuthController" ("API"). (122b2fdf)
2025-09-03T15:36:49.7142780+02:00 8000007b-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("228"ms) [Parameters=["@__u_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
FROM \"Usuarios\" AS u
WHERE u.nombre = @__u_0
LIMIT 2" (0723d8ff)
2025-09-03T15:59:54.3422632+02:00 8000007b-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.activo, t.apellidos, t.contraseña, t.correo, t.\"expiracionToken\", t.\"fechaCreación\", t.\"fechaNacimiento\", t.nombre, t.puntos, t.suscrito, t.token, t.\"ultimaConexion\", t0.idrol, t0.idusuario, t0.identidad, t0.id, t0.descripcion, t0.level, t0.nombre, t0.id0, t0.activo, t0.descripcion0, t0.\"fechaAlta\", t0.\"idTipoEntidad\", t0.imagen, t0.nombre0, t0.popularidad, t0.ubicacion
FROM (
    SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
    FROM \"Usuarios\" AS u
    WHERE u.id = @__id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT u0.idrol, u0.idusuario, u0.identidad, r.id, r.descripcion, r.level, r.nombre, e.id AS id0, e.activo, e.descripcion AS descripcion0, e.\"fechaAlta\", e.\"idTipoEntidad\", e.imagen, e.nombre AS nombre0, e.popularidad, e.ubicacion
    FROM \"UsuarioRoles\" AS u0
    INNER JOIN \"Roles\" AS r ON u0.idrol = r.id
    INNER JOIN \"Entidades\" AS e ON u0.identidad = e.id
) AS t0 ON t.id = t0.idusuario
ORDER BY t.id, t0.idrol, t0.idusuario, t0.identidad, t0.id" (0723d8ff)
2025-09-03T16:00:13.4492653+02:00 8000007b-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("38"ms) [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Usuarios\" SET \"expiracionToken\" = @p0, token = @p1
WHERE id = @p2;" (0723d8ff)
2025-09-03T16:00:13.4676374+02:00 8000007b-0004-fc00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-09-03T16:00:13.5905031+02:00 8000007b-0004-fc00-b63f-84710c7967bb [INF] Executed action "API.Controllers.AuthController.Login (API)" in 1414446.5201ms (afa2e885)
2025-09-03T16:00:13.5908460+02:00 8000007b-0004-fc00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.AuthController.Login (API)"' (99874f2b)
2025-09-03T16:00:13.6263765+02:00 8000007b-0004-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - 200 null "application/json; charset=utf-8" 1415840.0592ms (74253ad3)
2025-09-03T16:00:34.3267569+02:00 80000027-0000-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/FAQS/ObtenerFAQS""" - null null (d509f86a)
2025-09-03T16:00:34.3876066+02:00 80000027-0000-fa00-b63f-84710c7967bb [INF] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user." (92d7f7d3)
2025-09-03T16:00:34.3920635+02:00 80000027-0000-fa00-b63f-84710c7967bb [INF] AuthenticationScheme: "Bearer" was challenged. (d45f1f38)
2025-09-03T16:00:34.4026064+02:00 80000027-0000-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/FAQS/ObtenerFAQS""" - 401 null null 75.9853ms (74253ad3)
2025-09-03T16:31:18.1288232+02:00  [INF] User profile is available. Using '"C:\Users\David\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-09-03T16:31:24.5133883+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-09-03T16:31:24.5875001+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-09-03T16:31:24.5936064+02:00  [INF] Content root path: "C:\Users\David\Desktop\API" (cc26f24e)
2025-09-03T16:31:25.6568556+02:00 80000080-0005-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - null null (d509f86a)
2025-09-03T16:31:30.5277503+02:00 80000080-0005-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 5073.8025ms (74253ad3)
2025-09-03T16:31:33.4566467+02:00 80000033-0004-f900-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-09-03T16:31:33.4851773+02:00 80000033-0004-f900-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - 200 13742 "application/javascript; charset=utf-8" 9.1777ms (74253ad3)
2025-09-03T16:31:33.4859911+02:00 80000104-0006-ff00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - null null (d509f86a)
2025-09-03T16:31:33.6950668+02:00 80000104-0006-ff00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 209.3901ms (74253ad3)
2025-09-03T16:31:34.0784613+02:00 80000048-0000-fd00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-09-03T16:31:34.1297296+02:00 80000048-0000-fd00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 51.3647ms (74253ad3)
2025-09-03T16:32:16.4553828+02:00 80000038-0006-fb00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - "application/json" 57 (d509f86a)
2025-09-03T16:32:16.5153617+02:00 80000038-0006-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2025-09-03T16:32:17.1783894+02:00 80000038-0006-fb00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.AuthController.Login (API)"' (500cc934)
2025-09-03T16:32:21.5862297+02:00 80000038-0006-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login(Domain.Entities.LoginDto)" on controller "API.Controllers.AuthController" ("API"). (122b2fdf)
2025-09-03T16:32:50.9679543+02:00 80000038-0006-fb00-b63f-84710c7967bb [ERR] An error occurred using the connection to database '""' on server '""'. (5fc3407c)
2025-09-03T16:32:53.6929398+02:00 80000038-0006-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"Infrastructure.Persistence.ApplicationDbContext"'."
""System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" (f5c7ac34)
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)
2025-09-03T16:33:40.0347509+02:00 80000038-0006-fb00-b63f-84710c7967bb [INF] Executed action "API.Controllers.AuthController.Login (API)" in 78412.0135ms (afa2e885)
2025-09-03T16:33:40.0606920+02:00 80000038-0006-fb00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.AuthController.Login (API)"' (99874f2b)
2025-09-03T16:33:41.4924407+02:00 80000038-0006-fb00-b63f-84710c7967bb [ERR] Ocurrió un error en la petición "/auth/login" (564da9e9)
System.AggregateException: One or more errors occurred. (The ConnectionString property has not been initialized.)
 ---> System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method30(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at Infrastructure.Repositories.AuthRepository.ValidateUser(String u, String p) in C:\Users\David\Desktop\Infrastructure\Repositories\AuthRepository.cs:line 20
   at Application.Services.AuthService.ValidateUser(String userName, String password) in C:\Users\David\Desktop\Application\Services\AuthService.cs:line 26
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at API.Controllers.AuthController.Login(LoginDto dto) in C:\Users\David\Desktop\API\Controllers\AuthController.cs:line 35
   at lambda_method3(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\David\Desktop\API\Middlewares\ExceptionMiddleware.cs:line 18
2025-09-03T16:33:41.5694796+02:00 80000038-0006-fb00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - 500 null "application/json" 85114.6554ms (74253ad3)
2025-09-03T16:33:47.4825452+02:00 8000001e-0003-fd00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - null null (d509f86a)
2025-09-03T16:33:47.5152513+02:00 8000001e-0003-fd00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 33.8752ms (74253ad3)
2025-09-03T16:33:48.5448806+02:00 80000046-0000-fb00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - null null (d509f86a)
2025-09-03T16:33:48.5583423+02:00 80000046-0000-fb00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 13.5355ms (74253ad3)
2025-09-03T16:33:48.6109274+02:00 80000048-0000-fb00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-09-03T16:33:48.6138922+02:00 80000048-0000-fb00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - 200 13742 "application/javascript; charset=utf-8" 2.7586ms (74253ad3)
2025-09-03T16:33:48.7222280+02:00 80000081-0004-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-09-03T16:33:48.8231539+02:00 80000081-0004-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 101.0677ms (74253ad3)
2025-09-03T16:56:30.4922830+02:00  [INF] User profile is available. Using '"C:\Users\David\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-09-03T16:56:39.9930892+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-09-03T16:56:40.1042482+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-09-03T16:56:40.1091518+02:00  [INF] Content root path: "C:\Users\David\Desktop\API" (cc26f24e)
2025-09-03T16:56:45.2187962+02:00 80000022-0005-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - null null (d509f86a)
2025-09-03T16:56:49.4309511+02:00 80000034-0006-f900-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-09-03T16:56:49.4503042+02:00 80000022-0005-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 4275.9092ms (74253ad3)
2025-09-03T16:56:49.4947222+02:00 80000034-0006-f900-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - 200 13742 "application/javascript; charset=utf-8" 7.3334ms (74253ad3)
2025-09-03T16:56:49.5790115+02:00 80000037-0004-f900-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - null null (d509f86a)
2025-09-03T16:56:49.8290713+02:00 80000037-0004-f900-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 250.2005ms (74253ad3)
2025-09-03T16:56:50.4590057+02:00 80000036-0006-f900-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-09-03T16:56:50.6625094+02:00 80000036-0006-f900-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 203.5089ms (74253ad3)
2025-09-03T16:57:15.3515949+02:00 8000002b-0004-fb00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - "application/json" 57 (d509f86a)
2025-09-03T16:57:15.3972137+02:00 8000002b-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2025-09-03T16:57:15.5109069+02:00 8000002b-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.AuthController.Login (API)"' (500cc934)
2025-09-03T16:57:15.7587660+02:00 8000002b-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login(Domain.Entities.LoginDto)" on controller "API.Controllers.AuthController" ("API"). (122b2fdf)
2025-09-03T16:57:26.3259027+02:00 8000002b-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("217"ms) [Parameters=["@__u_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
FROM \"Usuarios\" AS u
WHERE u.nombre = @__u_0
LIMIT 2" (0723d8ff)
2025-09-03T16:57:27.4320242+02:00 8000002b-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("102"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.activo, t.apellidos, t.contraseña, t.correo, t.\"expiracionToken\", t.\"fechaCreación\", t.\"fechaNacimiento\", t.nombre, t.puntos, t.suscrito, t.token, t.\"ultimaConexion\", t0.idrol, t0.idusuario, t0.identidad, t0.id, t0.descripcion, t0.level, t0.nombre, t0.id0, t0.activo, t0.descripcion0, t0.\"fechaAlta\", t0.\"idTipoEntidad\", t0.imagen, t0.nombre0, t0.popularidad, t0.ubicacion
FROM (
    SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
    FROM \"Usuarios\" AS u
    WHERE u.id = @__id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT u0.idrol, u0.idusuario, u0.identidad, r.id, r.descripcion, r.level, r.nombre, e.id AS id0, e.activo, e.descripcion AS descripcion0, e.\"fechaAlta\", e.\"idTipoEntidad\", e.imagen, e.nombre AS nombre0, e.popularidad, e.ubicacion
    FROM \"UsuarioRoles\" AS u0
    INNER JOIN \"Roles\" AS r ON u0.idrol = r.id
    INNER JOIN \"Entidades\" AS e ON u0.identidad = e.id
) AS t0 ON t.id = t0.idusuario
ORDER BY t.id, t0.idrol, t0.idusuario, t0.identidad, t0.id" (0723d8ff)
2025-09-03T16:57:28.3996546+02:00 8000002b-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("57"ms) [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Usuarios\" SET \"expiracionToken\" = @p0, token = @p1
WHERE id = @p2;" (0723d8ff)
2025-09-03T16:57:28.4035315+02:00 8000002b-0004-fb00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-09-03T16:57:28.4677934+02:00 8000002b-0004-fb00-b63f-84710c7967bb [INF] Executed action "API.Controllers.AuthController.Login (API)" in 12698.1582ms (afa2e885)
2025-09-03T16:57:28.4680436+02:00 8000002b-0004-fb00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.AuthController.Login (API)"' (99874f2b)
2025-09-03T16:57:28.4938135+02:00 8000002b-0004-fb00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - 200 null "application/json; charset=utf-8" 13142.4471ms (74253ad3)
2025-09-03T16:58:06.0428891+02:00 8000002d-0004-fb00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Actividades/ObtenerActividades""" - null null (d509f86a)
2025-09-03T16:58:06.7811261+02:00 8000002d-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.ActividadesController.GetAllAsync (API)"' (500cc934)
2025-09-03T16:58:06.7905183+02:00 8000002d-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAll\", controller = \"Actividades\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync()" on controller "API.Controllers.ActividadesController" ("API"). (122b2fdf)
2025-09-03T16:58:06.9272567+02:00 8000002d-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.id, a.activo, a.descripcion, a.\"descripcionCorta\", a.\"fechaFin\", a.\"fechaInicio\", a.gratis, a.\"idEntidad\", a.\"idTipoActividad\", a.imagen, a.\"informacioExtra\", a.\"linkEvento\", a.\"linkFacebook\", a.\"linkInstagram\", a.\"linkYoutube\", a.nombre, a.popularidad, a.ubicación
FROM \"Actividades\" AS a" (0723d8ff)
2025-09-03T16:58:07.0212326+02:00 8000002d-0004-fb00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Domain.Entities.Actividad, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T16:58:07.0795371+02:00 8000002d-0004-fb00-b63f-84710c7967bb [INF] Executed action "API.Controllers.ActividadesController.GetAllAsync (API)" in 288.6994ms (afa2e885)
2025-09-03T16:58:07.0805863+02:00 8000002d-0004-fb00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.ActividadesController.GetAllAsync (API)"' (99874f2b)
2025-09-03T16:58:07.0852253+02:00 8000002d-0004-fb00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Actividades/ObtenerActividades""" - 200 null "application/json; charset=utf-8" 1042.4149ms (74253ad3)
2025-09-03T16:58:20.5540789+02:00 8000002f-0004-fb00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/Usuarios/ObtenerUsuarios""" - null null (d509f86a)
2025-09-03T16:58:20.5594921+02:00 8000002f-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.UsuariosController.GetAllAsync (API)"' (500cc934)
2025-09-03T16:58:20.6011462+02:00 8000002f-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAll\", controller = \"Usuarios\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync()" on controller "API.Controllers.UsuariosController" ("API"). (122b2fdf)
2025-09-03T16:58:20.7717906+02:00 8000002f-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
FROM \"Usuarios\" AS u" (0723d8ff)
2025-09-03T16:58:20.7761775+02:00 8000002f-0004-fb00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Domain.Entities.Usuario, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-09-03T16:58:20.7852424+02:00 8000002f-0004-fb00-b63f-84710c7967bb [INF] Executed action "API.Controllers.UsuariosController.GetAllAsync (API)" in 183.9508ms (afa2e885)
2025-09-03T16:58:20.7853612+02:00 8000002f-0004-fb00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.UsuariosController.GetAllAsync (API)"' (99874f2b)
2025-09-03T16:58:20.7859507+02:00 8000002f-0004-fb00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/Usuarios/ObtenerUsuarios""" - 200 null "application/json; charset=utf-8" 231.8869ms (74253ad3)
2025-09-03T19:37:06.2422937+02:00  [INF] User profile is available. Using '"C:\Users\David\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-09-03T19:37:26.0543790+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-09-03T19:37:26.2298735+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-09-03T19:37:26.4329802+02:00  [INF] Content root path: "C:\Users\David\Desktop\API" (cc26f24e)
2025-09-03T19:37:27.8032588+02:00 80000064-0002-fe00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - null null (d509f86a)
2025-09-03T19:37:42.7063595+02:00 80000064-0002-fe00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 15218.0088ms (74253ad3)
2025-09-03T19:37:43.2820246+02:00 80000063-0006-fd00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-09-03T19:37:43.3331212+02:00 8000008c-0000-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - null null (d509f86a)
2025-09-03T19:37:43.3593935+02:00 80000063-0006-fd00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - 200 13742 "application/javascript; charset=utf-8" 4.5311ms (74253ad3)
2025-09-03T19:37:45.1462341+02:00 8000008c-0000-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 1812.9637ms (74253ad3)
2025-09-03T19:37:45.4398432+02:00 80000031-0004-fb00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-09-03T19:37:45.5538199+02:00 80000031-0004-fb00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 114.0064ms (74253ad3)
2025-09-03T19:38:52.7990777+02:00 8000002e-0000-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "PATCH" "https"://"localhost:44311""""/Usuarios/Login""?email=david%40correo.com&contrase%C3%B1a=MyPassword-123" - null null (d509f86a)
2025-09-03T19:38:52.8425136+02:00 8000002e-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2025-09-03T19:38:52.9308727+02:00 8000002e-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.UsuariosController.Login (API)"' (500cc934)
2025-09-03T19:38:53.2559976+02:00 8000002e-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Usuarios\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String)" on controller "API.Controllers.UsuariosController" ("API"). (122b2fdf)
2025-09-03T19:39:58.1716693+02:00 8000002e-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("541"ms) [Parameters=["@__ToLower_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
FROM \"Usuarios\" AS u
WHERE lower(u.correo) = @__ToLower_0
LIMIT 1" (0723d8ff)
2025-09-03T19:40:23.7873627+02:00 8000002e-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("664"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Usuarios\" SET \"expiracionToken\" = @p0, token = @p1, \"ultimaConexion\" = @p2
WHERE id = @p3;" (0723d8ff)
2025-09-03T19:40:27.0666460+02:00 8000002e-0000-fa00-b63f-84710c7967bb [INF] Mensaje no definido. (e2ae16ec)
2025-09-03T19:40:28.8551702+02:00 8000002e-0000-fa00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"Domain.Entities.Usuario"'. (605b4265)
2025-09-03T19:40:28.9461053+02:00 8000002e-0000-fa00-b63f-84710c7967bb [INF] Executed action "API.Controllers.UsuariosController.Login (API)" in 95684.0624ms (afa2e885)
2025-09-03T19:40:28.9470588+02:00 8000002e-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.UsuariosController.Login (API)"' (99874f2b)
2025-09-03T19:40:28.9799602+02:00 8000002e-0000-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "PATCH" "https"://"localhost:44311""""/Usuarios/Login""?email=david%40correo.com&contrase%C3%B1a=MyPassword-123" - 200 null "application/json; charset=utf-8" 96180.98ms (74253ad3)
2025-09-03T20:42:54.7188120+02:00  [INF] User profile is available. Using '"C:\Users\David\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-09-03T20:43:01.9980715+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-09-03T20:43:02.1173937+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-09-03T20:43:02.1195425+02:00  [INF] Content root path: "C:\Users\David\Desktop\API" (cc26f24e)
2025-09-03T20:43:03.2289020+02:00 80000030-0000-fa00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - null null (d509f86a)
2025-09-03T20:43:07.8570728+02:00 80000030-0000-fa00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 4818.3551ms (74253ad3)
2025-09-03T20:43:08.0597324+02:00 80000089-0002-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-09-03T20:43:08.0654865+02:00 80000089-0002-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_framework/aspnetcore-browser-refresh.js""" - 200 13742 "application/javascript; charset=utf-8" 5.5163ms (74253ad3)
2025-09-03T20:43:08.3027078+02:00 8000005c-0001-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - null null (d509f86a)
2025-09-03T20:43:08.5097230+02:00 8000005c-0001-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 207.0637ms (74253ad3)
2025-09-03T20:43:09.0057587+02:00 8000000b-0005-fb00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-09-03T20:43:09.0561822+02:00 8000000b-0005-fb00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "GET" "https"://"localhost:44311""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 50.6596ms (74253ad3)
2025-09-03T20:43:52.3600699+02:00 8000005e-0001-fc00-b63f-84710c7967bb [INF] Request starting "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - "application/json" 57 (d509f86a)
2025-09-03T20:43:52.4034611+02:00 8000005e-0001-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2025-09-03T20:43:52.5249789+02:00 8000005e-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"API.Controllers.AuthController.Login (API)"' (500cc934)
2025-09-03T20:43:52.7510633+02:00 8000005e-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login(Domain.Entities.LoginDto)" on controller "API.Controllers.AuthController" ("API"). (122b2fdf)
2025-09-03T20:44:16.7634840+02:00 8000005e-0001-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("373"ms) [Parameters=["@__ToLower_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
FROM \"Usuarios\" AS u
WHERE lower(btrim(u.nombre, E' \t\n\r')) = @__ToLower_0
LIMIT 2" (0723d8ff)
2025-09-03T20:45:57.1491058+02:00 8000005e-0001-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("538"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.activo, t.apellidos, t.contraseña, t.correo, t.\"expiracionToken\", t.\"fechaCreación\", t.\"fechaNacimiento\", t.nombre, t.puntos, t.suscrito, t.token, t.\"ultimaConexion\", t0.idrol, t0.idusuario, t0.identidad, t0.id, t0.descripcion, t0.level, t0.nombre, t0.id0, t0.activo, t0.descripcion0, t0.\"fechaAlta\", t0.\"idTipoEntidad\", t0.imagen, t0.nombre0, t0.popularidad, t0.ubicacion
FROM (
    SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
    FROM \"Usuarios\" AS u
    WHERE u.id = @__id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT u0.idrol, u0.idusuario, u0.identidad, r.id, r.descripcion, r.level, r.nombre, e.id AS id0, e.activo, e.descripcion AS descripcion0, e.\"fechaAlta\", e.\"idTipoEntidad\", e.imagen, e.nombre AS nombre0, e.popularidad, e.ubicacion
    FROM \"UsuarioRoles\" AS u0
    INNER JOIN \"Roles\" AS r ON u0.idrol = r.id
    INNER JOIN \"Entidades\" AS e ON u0.identidad = e.id
) AS t0 ON t.id = t0.idusuario
ORDER BY t.id, t0.idrol, t0.idusuario, t0.identidad, t0.id" (0723d8ff)
2025-09-03T20:49:19.9363626+02:00 8000005e-0001-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
FROM \"Usuarios\" AS u
WHERE lower(btrim(u.nombre, E' \t\n\r')) = @__ToLower_0
LIMIT 2" (0723d8ff)
2025-09-03T20:49:25.6656153+02:00 8000005e-0001-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("135"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.activo, t.apellidos, t.contraseña, t.correo, t.\"expiracionToken\", t.\"fechaCreación\", t.\"fechaNacimiento\", t.nombre, t.puntos, t.suscrito, t.token, t.\"ultimaConexion\", t0.idrol, t0.idusuario, t0.identidad, t0.id, t0.descripcion, t0.level, t0.nombre, t0.id0, t0.activo, t0.descripcion0, t0.\"fechaAlta\", t0.\"idTipoEntidad\", t0.imagen, t0.nombre0, t0.popularidad, t0.ubicacion
FROM (
    SELECT u.id, u.activo, u.apellidos, u.contraseña, u.correo, u.\"expiracionToken\", u.\"fechaCreación\", u.\"fechaNacimiento\", u.nombre, u.puntos, u.suscrito, u.token, u.\"ultimaConexion\"
    FROM \"Usuarios\" AS u
    WHERE u.id = @__id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT u0.idrol, u0.idusuario, u0.identidad, r.id, r.descripcion, r.level, r.nombre, e.id AS id0, e.activo, e.descripcion AS descripcion0, e.\"fechaAlta\", e.\"idTipoEntidad\", e.imagen, e.nombre AS nombre0, e.popularidad, e.ubicacion
    FROM \"UsuarioRoles\" AS u0
    INNER JOIN \"Roles\" AS r ON u0.idrol = r.id
    INNER JOIN \"Entidades\" AS e ON u0.identidad = e.id
) AS t0 ON t.id = t0.idusuario
ORDER BY t.id, t0.idrol, t0.idusuario, t0.identidad, t0.id" (0723d8ff)
2025-09-03T20:49:36.2685938+02:00 8000005e-0001-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("2,489"ms) [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Usuarios\" SET \"expiracionToken\" = @p0, token = @p1
WHERE id = @p2;" (0723d8ff)
2025-09-03T20:49:36.3383710+02:00 8000005e-0001-fc00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-09-03T20:49:36.4873127+02:00 8000005e-0001-fc00-b63f-84710c7967bb [INF] Executed action "API.Controllers.AuthController.Login (API)" in 343727.9542ms (afa2e885)
2025-09-03T20:49:36.4875313+02:00 8000005e-0001-fc00-b63f-84710c7967bb [INF] Executed endpoint '"API.Controllers.AuthController.Login (API)"' (99874f2b)
2025-09-03T20:49:36.5539246+02:00 8000005e-0001-fc00-b63f-84710c7967bb [INF] Request finished "HTTP/2" "POST" "https"://"localhost:44311""""/auth/login""" - 200 null "application/json; charset=utf-8" 344194.2748ms (74253ad3)

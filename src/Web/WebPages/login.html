<!doctype html>
<html class="no-js" lang="es">
<head>

	<!-- Meta Tags -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="keywords" content="login">
	<meta name="description" content="Página para iniciar sesión con una cuenta de usuario existente.">
	<meta name='copyright' content='UOC'>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<title>Login</title>

	<link rel="icon" href="img/favicon.png">

	<script src="../WebPages/js/jquery.min.js"></script>
	<script src="../WebPages/js/jquery-migrate-3.0.0.js"></script>
	<script src="../WebPages/js/jquery-ui.min.js"></script>
	<script src="../WebPages/js/easing.js"></script>
	<script src="../WebPages/js/colors.js"></script>
	<!--<script src="../WebPages/js/popper.min.js"></script>
	<script src="../WebPages/js/bootstrap-datepicker.js"></script>-->
	<script src="../WebPages/js/jquery.nav.js"></script>
	<!--<script src="../WebPages/js/slicknav.min.js"></script>
	<script src="../WebPages/js/jquery.scrollUp.min.js"></script>-->
	<script src="../WebPages/js/niceselect.js"></script>
	<script src="../WebPages/js/tilt.jquery.min.js"></script>
	<!--<script src="../WebPages/js/owl-carousel.js"></script>-->
	<script src="../WebPages/js/jquery.counterup.min.js"></script>
	<script src="../WebPages/js/steller.js"></script>
	<script src="../WebPages/js/wow.min.js"></script>
	<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.3/waypoints.min.js"></script>
	<script src="https://maps.google.com/maps/api/js?key=AIzaSyDGqTyqoPIvYxhn_Sa7ZrK5bENUWhpCo0w"></script>
	<script src="../WebPages/js/gmaps.min.js"></script>
	<script src="../WebPages/js/map-active.js"></script>-->
	<script src="../WebPages/js/bootstrap.min.js"></script>

</head>
<body>

	<app-login redirect-url="/dashboard.html"></app-login>
	
	<script type="module" src="../Components/login/login.js"></script>
	
	<script>
		 
        document.querySelector('app-login') // Escucha el evento emitido por el componente
			.addEventListener('login-success', (e) => {

                alert("access_token: " + e.detail.access_token);
                alert("token_type: " + e.detail.token_type);
				alert("expires_at_utc: " + e.detail.expires_at_utc);
                alert("role: " + e.detail.role);

                switch (e.detail.role) {
					case "Admin":
						console.log("Usuario Administrador");
                        alert("Usuario Administrador");
						break;
                    case "SAdmin":
						console.log("Usuario Super Administrador");
						alert("Usuario Super Administrador");
						break;
					default:
						console.log("Usuario Web");
						alert("Usuario Web");
                        break;
				}

				window.location.href = '../WebPages/home-privada.html'; 
				//window.location.href = '../Backoffice/home.html';

			});

	</script>
</body>
</html>
